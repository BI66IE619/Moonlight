<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Moonlight | Applications</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="games.css"> </head>
<body class="apps-page">
    <canvas id="starfield"></canvas>

    <div class="ui-wrapper">
        <nav class="top-nav">
            <div class="nav-logo" onclick="window.location.href='main.html'" style="cursor:pointer">M // BACK</div>
            <div class="nav-links">
                <span onclick="toggleCloak()" style="cursor:pointer; margin-right: 20px;">CLOAK [ESC]</span>
                <span class="nav-status">UTILITIES: <span id="entryCount">0</span> ACTIVE</span>
            </div>
        </nav>

        <div class="search-container">
            <input type="text" id="appSearch" placeholder="SEARCH SYSTEM APPS..." autocomplete="off">
            <div class="search-line"></div>
        </div>

        <div class="games-container"> <div class="games-grid" id="appsGrid">
                
                <div class="rectangle-container">
                    <div class="rectangle" data-category="utility" onclick="window.location.href='/a/discord.html'">
                        <img src="https://wallpapers.com/images/hd/discord-logo-white-on-black-b70h6p876v6p7m8v.jpg" alt="Discord">
                        <div class="game-name">Discord Web</div>
                    </div>
                </div>

                <div class="rectangle-container">
                    <div class="rectangle" data-category="utility" onclick="window.location.href='/a/geforce.html'">
                        <img src="https://static.vecteezy.com/system/resources/previews/018/930/500/non_2x/nvidia-logo-nvidia-icon-transparent-free-png.png" alt="GeForce Now">
                        <div class="game-name">GeForce Now</div>
                    </div>
                </div>

                <div class="rectangle-container">
                    <div class="rectangle" data-category="utility" onclick="window.location.href='/a/vscode.html'">
                        <img src="https://uxwing.com/wp-content/themes/uxwing/download/brands-and-social-media/visual-studio-code-icon.png" alt="VS Code">
                        <div class="game-name">VS Code Web</div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Synchronized Search & Counter Logic
        const searchInput = document.getElementById('appSearch');
        const appCards = document.getElementsByClassName('rectangle-container');
        const entryCount = document.getElementById('entryCount');

        function updateCounter() {
            let visibleCount = 0;
            for (let i = 0; i < appCards.length; i++) {
                if (appCards[i].style.display !== "none") visibleCount++;
            }
            entryCount.innerText = visibleCount;
        }

        searchInput.addEventListener('keyup', function() {
            const filter = searchInput.value.toLowerCase();
            for (let i = 0; i < appCards.length; i++) {
                const name = appCards[i].querySelector('.game-name').innerText.toLowerCase();
                appCards[i].style.display = name.includes(filter) ? "" : "none";
            }
            updateCounter();
        });

        window.addEventListener('DOMContentLoaded', updateCounter);
    </script>
</body>
</html>
