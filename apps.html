<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Moonlight | Applications</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="apps.css">
</head>
<body class="apps-page">
    <canvas id="starfield"></canvas>

    <div class="ui-wrapper">
        <nav class="top-nav">
            <div class="nav-logo" onclick="window.location.href='main.html'" style="cursor:pointer">M // BACK</div>
            <div class="nav-links">
                <span onclick="toggleCloak()" style="cursor:pointer; margin-right: 20px;">CLOAK [ESC]</span>
                <span class="nav-status">UTILITIES: <span id="entryCount">0</span> ACTIVE</span>
            </div>
        </nav>

        <div class="search-container">
            <input type="text" id="appSearch" placeholder="SEARCH SYSTEM APPS..." autocomplete="off">
            <div class="search-line"></div>
        </div>

        <div class="apps-container">
            <div class="apps-grid" id="appsGrid">
                
                <div class="app-card-container">
                    <div class="app-card" onclick="window.location.href='/a/discord.html'">
                        <div class="app-icon">
                            <img src="https://cdn.prod.website-files.com/6257adef93867e3d0390541b/625944ad3511200427181f0a_discord-logo-white.png" alt="Discord">
                        </div>
                        <div class="app-info">
                            <h3>DISCORD</h3>
                            <p>COMMUNICATION PLATFORM</p>
                        </div>
                    </div>
                </div>

                <div class="app-card-container">
                    <div class="app-card" onclick="window.location.href='/a/vscode.html'">
                        <div class="app-icon">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Visual_Studio_Code_1.35_icon.svg" alt="VS Code">
                        </div>
                        <div class="app-info">
                            <h3>VS CODE</h3>
                            <p>WEB-BASED IDE</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Copying over our successful search & counter logic
        const searchInput = document.getElementById('appSearch');
        const appCards = document.getElementsByClassName('app-card-container');
        const entryCount = document.getElementById('entryCount');

        function updateCounter() {
            let visibleCount = 0;
            for (let i = 0; i < appCards.length; i++) {
                if (appCards[i].style.display !== "none") visibleCount++;
            }
            entryCount.innerText = visibleCount;
        }

        searchInput.addEventListener('keyup', function() {
            const filter = searchInput.value.toLowerCase();
            for (let i = 0; i < appCards.length; i++) {
                const name = appCards[i].querySelector('h3').innerText.toLowerCase();
                appCards[i].style.display = name.includes(filter) ? "" : "none";
            }
            updateCounter();
        });

        window.addEventListener('DOMContentLoaded', updateCounter);
    </script>
</body>
</html>
